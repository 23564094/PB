@import "compass/css3";
@import url('https://fonts.googleapis.com/css?family=Electrolize');

/* Play with speed and easing of the animation */
$one-second: 1s;
$easing: cubic-bezier(1,0,1,0);
/* =========================================== */

@mixin animate($count) {
  $step: (100 / $count);
  $progress: 0%;
  $translate: -$digit-height;
  @while $progress < 100 {
    #{$progress} { transform: translateY($translate); }
    $progress: $progress + $step;
    $translate: $translate - $digit-height;
  }
}

$digit-height: 100px;

.digit {
  display: inline-block;
  font-size: 100px;
  color: rgba(0,0,0,1);
  height: $digit-height;
  line-height: 1;
}

.time-part-wrapper {
  display: inline-block;
  margin-right: 30px;
  position: relative;

  &:not(:last-child):after {
    content: ":";
    display: block;
    width: 20px;
    height: 100px;
    position: absolute;
    top: 0px;
    right: -30px;
    color: rgba(0,0,0,1);
    font-size: 100px;
    line-height: 0.9;
  }
}

.time-part {
  width: 75px;
  text-align: center;
  height: $digit-height;
  overflow: hidden;
  display: inline-block;
  margin-left: 0px;
  box-sizing: border-box;
  
  .digit-wrapper {
    animation-timing-function: $easing;
  }
  &.minutes {
    &.tens .digit-wrapper {
      animation-name: minutes-tens;
      animation-duration: $one-second * 10 * 6 * 10 * 3;
      animation-iteration-count: 1;
    }
    &.ones .digit-wrapper {
      animation-name: minutes-ones;
      animation-duration: $one-second * 10 * 6 * 10;
      animation-iteration-count: 3;
    }
  }
  
  &.seconds {
    &.tens .digit-wrapper {
      animation-name: seconds-tens;
      animation-duration: $one-second * 10 * 6;
      animation-iteration-count: 30;
    }
    &.ones .digit-wrapper {
      animation-name: seconds-ones;
      animation-duration: $one-second * 10;
      animation-iteration-count: 180;
    }
  }
  
  &.milliseconds {
    &.hundreds .digit-wrapper {
      animation-name: hundredths-tens;
      animation-duration: $one-second;
      animation-iteration-count: 1800;
    }
    &.tens .digit-wrapper {
      animation-name: hundredths-ones;
      animation-duration: $one-second / 10;
      animation-iteration-count: 18000;
    }
    &.ones .digit-wrapper {
      animation-name: milliseconds;
      animation-duration: $one-second / 100;
      animation-iteration-count: 180000;
    }
  }
}
@keyframes minutes-tens {
  @include animate(3);
}
@keyframes minutes-ones {
  @include animate(10);
}

@keyframes seconds-tens {
  @include animate(6);
}
@keyframes seconds-ones {
  @include animate(10);
}

@keyframes hundredths-tens {
  @include animate(10);
}
@keyframes hundredths-ones {
  @include animate(10);
}
@keyframes milliseconds {
  @include animate(10);
}

body {
  background: #ffffff;
  margin: 0;
  font-family: "Electrolize";
}

.wrapper {
  margin: 50px auto;
  width: 1366px;
  position: relative;
  
  &:before, &:after {
    content: "";
    display: block;
    position: absolute;
    width: 100%;
    left: 0;
    height: 20px;
    z-index: 10;
  }
  
  &:before {
    top: 0px;
    @include background-image(linear-gradient(top, rgba(255,255,255,1) 0%,rgba(0,0,0,0) 100%));
  }
  
  &:after {
    bottom: 0px;
    @include background-image(linear-gradient(top,  rgba(0,0,0,0) 0%,rgba(255,255,255,1) 100%));
  }
  }
